# SECURITY.md

# Политика безопасности Faravel

## Сообщить об уязвимости

Если вы нашли проблему безопасности, пожалуйста, не создавайте публичный issue.
Напишите владельцу репозитория по приватному каналу и дождитесь подтверждения.

## Жёсткие требования к продакшену

- **Ключи доступа**: задайте `SERVICEMODE_KEY` (или `ADMIN_KEY`) через окружение/секреты.
- **Админка `/admin/`**:
  - ограничьте доступ BasicAuth’ом и/или по IP на уровне веб-сервера;
  - вход по ключу происходит один раз за сессию.
- **Инсталлятор**:
  - после развертывания создайте `public/installed.lock` (кнопкой в админке);
  - удаляйте lock только с подтверждением и только на стендах.
- **Права и файлы**:
  - `.env` — `640`, владелец — пользователь PHP;
  - `storage/`, `bootstrap/cache/` — запись разрешена процессу PHP;
  - отключите листинг директорий; исключите `.env`, `storage/` из прямого веб-доступа.
- **Секреты в git**: пароли/ключи не коммитить. Используйте `.env` и секреты окружения.
- **Ротация**: при компрометации ключа смените `SERVICEMODE_KEY` и завершите активные сессии.

## Примеры конфигурации

Смотрите раздел «Безопасность» в [docs/Admin.md](docs/Admin.md) — там приведены
готовые фрагменты для Nginx и Apache.
