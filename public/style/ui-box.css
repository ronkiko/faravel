/* v0.4.8
   public/style/ui-box.css
   Purpose: Минималистичный, спокойный админ-UI: плоский сайдбар и чистый мейн.
   FIX: Полностью переработаны сайдбар и мейн: мягкие разделители, ровные отступы,
        компактная сетка, нейтральные тона, без капса и без теней.
*/
@charset "UTF-8";

/* ========== Tokens ========== */
:root{
  --fg:#111827;
  --fg-soft:#374151;
  --muted:#6b7280;

  --bg:#ffffff;
  --bg-soft:#f6f7fb;
  --surface:#f3f4f6;

  --line:#e5e7eb;
  --line-soft:#edf0f3;

  --accent:#2563eb;

  --radius:10px;
  --pad:12px;
}
.muted{ color:var(--muted); }

/* ========== Layout / Main ========== */
.layout-split{
  --sticky-top: 10px;
  display:grid;
  grid-template-columns:240px minmax(0,1fr);
  gap:18px; align-items:start;
}
@media (max-width:1024px){ .layout-split{ grid-template-columns:1fr; } }

/* Мейн: ровная колонка, мягкая ширина для форм и таблиц */
.admin-main{
  display:grid; gap:16px;
  align-content:start;
}
.admin-main > .card{ border-color:var(--line); background:var(--bg); }
.page-title{ font-size:1.45rem; font-weight:700; color:var(--fg); margin:6px 0 8px; }
.section-title{ font-size:1rem; font-weight:600; color:var(--fg); margin:0; }

/* Узкая форма по центру блока настроек */
.form-card,
.admin-main .card form{ max-width:760px; }

/* ========== Sidebar ========== */
.side-nav{
  position:sticky; top:var(--sticky-top, 10px);
  background:var(--bg);
  border:1px solid var(--line);
  border-radius:var(--radius);
  overflow:hidden; padding:0;
}
.side-nav__title{
  padding:10px 14px; margin:0;
  color:var(--fg); font-weight:600; font-size:.98rem;
  border-bottom:1px solid var(--line-soft);
  background:#fff;
}
.section-head{
  padding:8px 14px 6px; margin:0;
  color:var(--fg-soft); font-weight:600; font-size:.9rem;
  border-top:1px solid var(--line-soft);
  background:#fff;
}
.side-nav__list{ display:flex; flex-direction:column; }

/* Ссылки: плоско, спокойно, с левой тонкой рейкой активного пункта */
.side-nav__link{
  display:flex; align-items:center; gap:8px;
  padding:9px 14px; text-decoration:none;
  color:var(--fg); font-weight:600;
  background:#fff;
  border-top:1px solid var(--line-soft);
  border-left:3px solid transparent;
}
.side-nav__link:first-of-type{ border-top:none; }
.side-nav__link:hover{ background:#f8f9fc; border-left-color:var(--line); }
.side-nav__link.is-active{ background:#eef2ff; border-left-color:var(--accent); }
.side-nav__link .icon{ width:12px; color:#94a3b8; font-weight:900; }
@media (max-width:1024px){ .side-nav{ display:none; } }

/* ========== Cards ========== */
.card{
  background:var(--bg);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:var(--pad);
  box-shadow:none;
}
.table-card{ padding:0; background:var(--surface); border-radius:var(--radius); overflow:hidden; }

/* ========== Tables ========== */
.table-wrap{ width:100%; overflow-x:auto; }
.table{
  width:100%; border-collapse:separate; border-spacing:0;
  font-size:14px; line-height:1.35; table-layout:auto; background:var(--surface);
}
.table thead th{
  background:var(--bg-soft); color:#334155; text-align:left; font-weight:600;
  padding:10px 12px; border-bottom:1px solid var(--line);
  position:sticky; top:var(--sticky-top, 10px); z-index:3; white-space:nowrap;
}
.table thead th:first-child{ border-top-left-radius:var(--radius); }
.table thead th:last-child { border-top-right-radius:var(--radius); }
.table tbody tr:last-child td:first-child{ border-bottom-left-radius:var(--radius); }
.table tbody tr:last-child td:last-child { border-bottom-right-radius:var(--radius); }
.table tbody td{
  padding:8px 12px; border-top:1px solid var(--line-soft);
  color:var(--fg); vertical-align:top; background:transparent;
}
.table--hover tbody tr:hover{ background:#f9fafb; }

/* ========== Collapsible groups (Abilities) ========== */
.table-group{
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:#fff; margin:10px 0; overflow:hidden;
}
.table-group > summary{
  list-style:none; cursor:pointer; padding:10px 12px;
  display:flex; align-items:center; gap:8px; font-weight:600; color:var(--fg);
  background:var(--bg-soft); border-bottom:1px solid transparent;
}
.table-group > summary::-webkit-details-marker{ display:none; }
.table-group > summary::before{
  content:"▸"; display:inline-block; transform:rotate(0deg);
  transition:transform .15s ease; color:#9ca3af; font-weight:900;
}
.table-group[open] > summary{ border-bottom-color:var(--line); }
.table-group[open] > summary::before{ transform:rotate(90deg); }
.table-group .table thead th{ position:static; }
.table-group .table{ background:transparent; }

/* ========== Forms ========== */
.form-card{
  background:#fff; border:1px solid var(--line);
  border-radius:var(--radius); padding:14px;
}
.form-card .group{
  display:grid; grid-template-columns:220px 1fr; gap:12px;
  align-items:center; margin:10px 0;
}
.form-card label{ color:var(--fg-soft); font-weight:600; }
.input,
input[type="text"], input[type="number"], input[type="email"], input[type="password"],
select, textarea{
  border:1px solid var(--line); background:#fff; color:var(--fg);
  border-radius:8px; padding:8px 10px; width:100%; box-sizing:border-box;
}
textarea{ min-height:110px; }
input[type="number"]{ appearance:textfield; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button{ appearance:none; margin:0; }

/* ========== Buttons ========== */
.button, .btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:9px 14px; border-radius:8px; font-weight:600; text-decoration:none;
  border:1px solid var(--line); background:#fff; color:var(--fg);
}
.button:hover, .btn:hover{ background:#f3f4f6; }
.button--primary{ background:var(--accent); border-color:#1d4ed8; color:#fff; }
.button--primary:hover{ background:#1d4ed8; }
.button--danger{ background:#fef2f2; color:#7f1d1d; border:1px solid #fecaca; }

/* ========== Mobile stack ========== */
@media (max-width:720px){
  .form-card .group{ grid-template-columns:1fr; }
  .table{ border-collapse:collapse; }
  .table thead{ display:none; }
  .table tbody tr{
    display:block; border:1px solid var(--line); border-radius:var(--radius);
    margin:10px 0; background:var(--surface);
  }
  .table tbody td{
    display:grid; grid-template-columns:140px 1fr; gap:8px;
    padding:10px 12px; border-top:none; border-bottom:1px solid var(--line-soft);
  }
  .table tbody tr td:last-child{ border-bottom:none; }
  .table tbody td::before{
    content:attr(data-th); font-weight:600; color:#556070;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }
}
