<!-- TODO.md v0.4.110 -->
## данный файл описывает план обновлений, которые нужно реализовать. 
## после роализации необходимо прислать обновленный TODO.md без уже реализованых позиций.

### Незавершённые задачи (v0.4.7+)

- **FORUM‑HUB**: реализовать SQL‑фолбэк внутри `HubQueryService::topicsForTag()`
  (pivot join + сортировки). Сейчас используется только ElasticSearch.
- **BladeEngine**: вынести флаги строгого режима и белый список директив
  в конфиг; перенести все устаревшие директивы Blade на возможности VM
  (abilities, permissions).
- **LayoutService**: подцепить `site.title` из `config('app.name')`;
  централизованно собирать breadcrumbs в `LayoutService`, а не в контроллерах.
- **Контракты**: постепенно встраивать интерфейсы `InvokableControllerContract`
  и `ServiceContract` в существующие контроллеры и сервисы. Начать с
  новых классов, затем рефакторить старые.
- **CI‑проверка**: разработать скрипт для проверки, что в каждом PHP‑файле
  есть шапка с контрактом и что публичные методы совпадают с перечислением
  в этом контракте.
- **Документация**: дополнить `docs/index.md` ссылками на новые документы
  по мере их появления; обеспечить, чтобы каждый раздел имел вход в индекс.

### Новые задачи (v0.4.108+)

- **Корневая страница**: реализовать полноценную приветственную страницу с
  кратким описанием проекта и кнопкой входа, заменить временную заглушку.
- **Валидация и формы**: добавить базовый валидатор (аналог `Illuminate\Validation`) и
  класс FormRequest для централизованной валидации входных данных.
- **ORM / Eloquent‑like слой**: разработать простой ActiveRecord или DataMapper
  поверх текущего Database, чтобы модели могли описывать отношения и
  загружать связанные записи без ручных SQL.
- **Очереди и фоновая обработка**: спроектировать интерфейс очередей (jobs)
  и добавить минимальную реализацию на базе Redis или базы данных.
- **Рассылки и уведомления**: внедрить простой сервис отправки email
  (MailService), возможность отправлять уведомления пользователям.
- **Хранилище файлов**: реализовать фасад Storage с драйверами для
  локального диска и (опционально) S3, включая методы save/get/delete и
  защиту от произвольного доступа.
- **Тестирование**: расширить набор тестов для контроллеров, сервисов и
  middleware, особенно для новых функций (валидация, ORM).

### Новые задачи (v0.4.110+)

- **Устранение дублирующих провайдеров**: убрать временный
  `RequestServiceProvider`, убедиться, что все биндинги `Faravel\Http\Request`
  и `Faravel\Http\ResponseFactory` выполняются в `AppServiceProvider`.
- **Рефакторинг провайдеров**: проверить все сервис‑провайдеры на
  дублирование ответственности и привести их к единому стилю.
- **Докер‑переменные для админки**: обновить `docker-compose.yml` для
  использования только `ADMIN_KEY` вместо `SERVICEMODE_KEY` и добавить
  поддержку передачи ключа через `.env`.
